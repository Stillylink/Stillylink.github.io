/* Локальные правки для страницы чата */
:root { -webkit-text-size-adjust: 100%; }

.private-container{
  max-width: 980px;
  margin: 24px auto;
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding: 0 18px;
}

.chat-header{
  display:flex;
  align-items:center;
  gap:12px;
  background:var(--bg-card);
  padding:12px 16px;
  border-radius:10px;
  border:1px solid var(--border);
}

.chat-header .title{
  font-size:18px;
  color:var(--accent);
  font-weight:600;
}

.chat-actions{
  margin-left:auto;
  display:flex;
  gap:10px;
  align-items:center;
}

.finish-btn{ background:transparent; color:var(--text-secondary); border:1px solid var(--border); padding:8px 12px; border-radius:8px; cursor:pointer }
.finish-btn:hover{ color:var(--accent) }

.searching{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
  padding:40px;
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,0.08);
}

.spinner{
  width:64px;height:64px;border-radius:50%;border:6px solid rgba(255,255,255,0.06);border-top-color:var(--accent);animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

.chat-window{
  width:100%;          /* занять всё доступное пространство контейнера */
  max-width:740px;     /* не даём разрастаться больше 740 px (можно свое) */
  margin:0 auto;       /* центрируем по горизонтали */
  height:64vh;         /* фиксированная высота */
  min-height:420px;
  display:flex;
  flex-direction:column;
  gap:12px;
  border-radius:10px;
  overflow:hidden;     /* всё, что выходит за рамки, скрыто */
  border:1px solid var(--border);
  background:linear-gradient(180deg,#0f1112,#0b0b0b);
}

.messages{
  padding:18px;
  overflow:auto;
  flex:1 1 auto;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.message{
  max-width:70%;
  padding:10px 12px;
  border-radius:12px;
  background:var(--bg-card);
  color:var(--text-main);
  border:1px solid var(--border);
  word-break:break-word;   /* уже есть, оставляем */
  overflow-wrap:break-word;
  box-shadow:0 2px 6px rgba(0,0,0,0.25);
}
.message.own{ 
  background:#1f1f1f;   /* тёмно-серый, но светлее чистого чёрного */
  color:#e0e0e0;        /* светло-серый текст для контраста */
}

.msg-row{ display:flex; gap:10px; align-items:flex-end }
.msg-row.own { flex-direction: row-reverse; }
.msg-row.other { flex-direction: row; }

.msg-row .avatar{ width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#000;color:#fff;font-weight:700 }
.msg-meta{ font-size:12px; color:var(--text-secondary); margin-top:6px }

.composer{
  display:flex;
  gap:8px;
  align-items:flex-end;
  padding:12px;
  border-top:1px solid rgba(255,255,255,0.03);
  background:linear-gradient(180deg,#0d0d0d,#0b0b0b);
}
.text-input{
  flex:1 1 auto;
  min-height:44px;
  max-height:140px;
  padding:10px 12px;
  border-radius:10px;
  resize:none;
  border:1px solid var(--border);
  background:#0f1112;color:var(--text-main);font-size:16px;outline:none;
}
.tool-btn{ padding:8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text-secondary);cursor:pointer }
.tool-btn:hover{ color:var(--accent) }

.emoji-panel{ position:absolute; bottom:76px; right:24px; background:var(--bg-card); border:1px solid var(--border); padding:8px; border-radius:8px; display:flex; gap:6px; flex-wrap:wrap; width:220px }

.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; z-index:9999 }
.modal{ background:var(--bg-card); padding:18px; border-radius:10px; border:1px solid var(--border); width:340px }
.modal h3{ color:var(--accent); margin-bottom:8px }
.modal p{ color:var(--text-secondary); margin-bottom:14px }
.modal .row{ display:flex; gap:8px; }

.end-screen{ padding:28px; display:flex; flex-direction:column; gap:12px; align-items:center }

input, textarea, .text-input { font-size:16px !important; -webkit-text-size-adjust:100%; }

@media (max-width: 480px) {
  .messages { padding:12px; gap:10px; }
  .message { max-width:85%; }
  .emoji-panel { right:12px; left:auto; bottom:80px; width:180px; }
}
